---
title: ケーススタディ-安定化平面を使用して holographic 乱気流を減らす
description: 手ブレ補正平面を使用してホログラフィックの乱れを削減する
author: bstrukus
ms.author: bestruku
ms.date: 03/21/2018
ms.topic: article
keywords: Windows Mixed Reality、ホログラム、安定化、ケーススタディ、mixed reality ヘッドセット、windows mixed reality ヘッドセット、virtual Reality ヘッドセット
ms.openlocfilehash: e0eba3df5457ea06ee80682d99c82a5a23c1635d
ms.sourcegitcommit: c41372e0c6ca265f599bff309390982642d628b8
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/15/2020
ms.locfileid: "97530438"
---
# <a name="case-study---using-the-stabilization-plane-to-reduce-holographic-turbulence"></a>ケーススタディ-安定化平面を使用して holographic 乱気流を減らす

多くの場合、ホログラムの使用は厄介です。 スペースの周りを移動し、さまざまな角度からホログラムを調べると、通常のコンピューター画面では使用できない immersion レベルが提供されます。 これらのホログラムを適切に配置し、現実的に表示することは、Microsoft HoloLens ハードウェアと holographic アプリのインテリジェント設計の両方によって実現される技術的な方法です。

## <a name="the-tech"></a>技術

ホログラムを実際にスペースを共有しているかのように見えるようにするには、色を分離せずに正しくレンダリングする必要があります。 これは、一部の HoloLens ハードウェアに組み込まれているテクノロジによって実現されます。これにより、 [安定化平面](hologram-stability.md#reprojection)と呼ばれるものに、ホログラムが固定されます。

平面は、ポイントおよび法線によって定義されます。 常に平面をカメラにする必要があるので、ここでは平面のポイントの設定について説明します。 HoloLens は、どのような処理を行うかを、すべての固定された安定した状態に保つために指示できます。 ただし、このフォーカスポイントを設定することはアプリに固有であり、コンテンツに応じてアプリを作成したり、中断したりすることができます。

ホログラムは、安定化平面が適切に適用される場合に最も適していますが、実際には、作成しているアプリケーションの種類によって異なります。 HoloLens で現在利用できるアプリのいくつかについて、この問題に対処する方法を見てみましょう。

## <a name="behind-the-scenes"></a>バックグラウンド処理

次のアプリを開発しているときに、プレーンを使用しなかった場合、オブジェクトは、ヘッドが移動したときに sway になることに気付きました。 また、クイックヘッドまたはホログラムの移動を使用して、色を分離することもできます。 このチュートリアルでは、安定化飛行機を最適に使用する方法と、修正できない問題についてアプリを設計する方法を説明しました。

### <a name="galaxy-explorer-stationary-content-3d-interactivity"></a>Galaxy エクスプローラー: 静止コンテンツ、3D インタラクティビティ

[Galaxy エクスプローラー](../unity/galaxy-explorer.md) には、シーンに2つの主要な要素があります。宇宙コンテンツのメインビューと、宝石に続く小さい UI ツールバーです。 安定化ロジックでは、各フレームで現在の宝石ベクトルと交差しているものを調べて、指定された衝突レイヤーでヒットしたかどうかを判断します。 この場合、関心のあるレイヤーは惑星であるため、宝石が地球に当たると、安定化平面が配置されます。 ターゲット競合レイヤー内のどのオブジェクトもヒットしなかった場合、アプリはセカンダリの "plan B" レイヤーを使用します。 何も gazed ない場合、安定化平面は、コンテンツでの処理時と同じ距離に保持されます。 UI ツールはプレーンターゲットとして残されています。これは、ほぼすべてのシーンの安定性を低く抑えることができるという点です。

Galaxy エクスプローラーのデザインは、安定した状態を維持し、色の分離の効果を減らすためにも役立ちます。 ユーザーは、このコンテンツを左右に移動するのではなく、その内容を移動して軌道で進めることをお勧めします。また、惑星の orbiting は、色の分離が目立たないほど遅くなります。 また、定数 60 FPS が維持されます。これは、色の分離が行われないようにするための長い方法です。

これを自分で確認するには、 [GitHub の Galaxy エクスプローラーコード](https://github.com/Microsoft/GalaxyExplorer/tree/master/Assets/Scripts/Utilities)で LSRPlaneModifier.cs という名前のファイルを探します。

### <a name="holostudio-stationary-content-with-a-ui-focus"></a>HoloStudio: UI フォーカスを持つ静止コンテンツ

HoloStudio では、ほとんどの時間を使用して、作業しているのと同じモデルを調べることができます。 新しいツールを選択した場合や、UI 内を移動する場合を除き、お客様の宝石は大きくなりません。そのため、プレーンの設定ロジックを単純にしておくことができます。 UI を見ると、航空機は、宝石のある UI 要素に設定されます。 モデルを見るとき、平面は、ユーザーとモデルの間の既定の距離に対応する設定距離を設定します。

![[ホーム] ボタンのユーザー gazes として HoloStudio で視覚化された安定化面](images/holostudio-stabilization-plane-500px.png)

### <a name="holotour-and-3d-viewer-stationary-content-with-animation-and-movies"></a>HoloTour と3D ビューアー: アニメーションとムービーを使用した静止コンテンツ

HoloTour と3D ビューアーでは、3D 効果が上に追加された、単独でアニメーション化されたオブジェクトまたはムービーを見ています。 これらのアプリの安定化は、現在表示している任意のものに設定されます。

また、HoloTour を使用すると、固定された場所に保持するのではなく、自分で移動することで、仮想環境から straying を離れてしまうことを防ぐことができます。 これにより、のクリープに対する安定性の問題について、他のホログラムから十分な距離を確保できなくなります。

![この例では、HoloTour から、安定化平面が Hadrian の Pantheon のこの映画に設定されています。](images/holotour-stabilization-plane-500px.jpg)

### <a name="roboraid-dynamic-content-and-environmental-interactions"></a>RoboRaid: 動的なコンテンツと環境の相互作用

RoboRaid での安定化面の設定は驚くほど簡単ですが、最も突然の動きを必要とするアプリでもあります。 平面は、壁または周囲のオブジェクトに隣接するように調整されており、十分に離れている場合は、手前に固定された距離でフローティングします。

RoboRaid は、安定化面を念頭に置いて設計されています。 Reticle はヘッドロックされているため最も多くを移動するため、赤と青だけを使用して、色のにじみを最小限に抑えることができます。 また、これらの部分の間には少しの深さが含まれているので、既に予想されている視差効果を使用してマスクすることによって発生するすべてのカラー裁ち落としを最小化できます。 ロボットはすぐに移動せず、一定の間隔で短い距離のみを移動します。 これらは、既定で安定化が設定されている前に2メートル前後にある傾向があります。

### <a name="fragments-and-young-conker-dynamic-content-with-environmental-interaction"></a>フラグメントと Young Conker: 環境との対話による動的コンテンツ

C++ では Asobo Studio によって作成され、フラグメントと Young Conker は安定化平面を設定するための別のアプローチを採用しています。 関心のあるポイント (POI) は、コードで定義され、優先順位順に並べ替えられます。 Poi はゲーム内のコンテンツです。たとえば、Young Conker の Conker モデル、メニュー、照準 reticle、ロゴなどです。 Poi はユーザーの宝石によって交差し、平面は最も優先順位の高いオブジェクトの中心に設定されます。 積集合がない場合、平面は既定の距離に設定されます。

また、再生スペースとして以前にスキャンされたものの外部に移動した場合にアプリを一時停止することで、アプリを一時停止することで、ホログラムから straying になるように、フラグメントや若い Conker も設計されています。 そのため、最も安定したエクスペリエンスを提供するために、検出された境界内に保持されます。

## <a name="do-it-yourself"></a>自分で実行する

HoloLens を所有していて、この記事の概念を試したい場合は、テストシーンをダウンロードして次の演習を試すことができます。 テストシーンでは、Unity の組み込みの gizmo API を使用して、プレーンがどこで設定されているかを視覚化できます。 このコードは、このケーススタディでスクリーンショットをキャプチャするためにも使用されていました。
1. [MixedRealityToolkit](https://github.com/Microsoft/MixedRealityToolkit-Unity)の最新バージョンを同期します。
2. [HoloToolkit-Examples/Utilities/シーン/StabilizationPlaneSetting](https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/htk_release/Assets/HoloToolkit-Examples/Utilities/Scenes/StabilizationPlaneSetting.unity)シーンを開きます。
3. 生成されたプロジェクトをビルドして構成します。
4. デバイスでを実行します。

### <a name="exercise-1"></a>演習1

さまざまな向きでいくつかの白い点が表示されます。 前面には、深さが異なる3つの点が表示されます。 エアタップを使用して、平面を設定するドットを変更します。 この演習では、その他の2つについて、ドットでの入力中にスペースを移動します。 頭を左、右、上、下に移動します。 ドットから遠く離れた場所に移動します。 安定化平面が異なるターゲットに設定されている場合に、それらがどのように反応するかを確認します。

### <a name="exercise-2"></a>演習2

次に、2つの移動ドットが表示されるまで右に旋回します。1つは水平パスに、もう1つは垂直パスにあります。 ここでも、エアタップを使用して、平面を設定するドットを変更します。 色の分離がどのように減少し、平面に接続されているドットに表示されるかに注目してください。 [平面] 設定関数でドットのベロシティを使用するには、もう一度タップします。 このパラメーターは、オブジェクトの目的の動きについて HoloLens にヒントを提供します。 これを使用するタイミングを把握しておくことが重要です。1つのドットでベロシティが使用されている場合は、もう一方のドットの色の分離が表示されます。 アプリを設計するときは、この点に留意してください。オブジェクトの動きに対してまとまったフローを使用すると、アイテムが表示されないようにすることができます。

### <a name="exercise-3"></a>演習3

ドットの新しい構成が表示されるまで、もう一度右に切り替えます。 この場合、距離にドットがあり、その前にドット spiraling が1つずつあります。 エアタップを使用して、平面のドットを変更し、背面のドットとモーションのドットを交互に切り替えます。 平面の位置とベロシティを spiraling dot の値に設定すると、アイテムがどこに表示されるかに注意してください。

**ヒント**
* プレーンの設定ロジックを単純にします。 既に説明したように、イマーシブエクスペリエンスを実現するための複雑なプレーン設定アルゴリズムは必要ありません。 安定化平面は、パズルの1つの部分にすぎません。
* 可能な限り、ターゲット間で平面をスムーズに移動します。 遠くのターゲットを瞬時に切り替えると、シーンが視覚的に中断される可能性があります。
* プレーンの設定ロジックで特定のターゲットにロックするオプションを使用することを検討してください。 そうすることで、必要に応じて、ロゴやタイトル画面などのオブジェクトでプレーンをロックすることができます。

## <a name="about-the-author"></a>筆者について

<table style="border-collapse:collapse">
<tr>
<td style="border-style: none" width="60px"><img alt="Picture of Ben Strukus" width="60" height="60" src="images/genericusertile.jpg"></td>
<td style="border-style: none"><b>Ben Strukus</b><br>ソフトウェアエンジニア @Microsoft</td>
</tr>
</table>

## <a name="see-also"></a>関連項目
* [MR の基本 100:Unity の概要](../unity/tutorials/holograms-100.md)
* [Unity でのフォーカス ポイント](../unity/focus-point-in-unity.md)
* [ホログラムの安定性](hologram-stability.md)
