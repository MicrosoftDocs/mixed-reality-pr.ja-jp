---
title: ケーススタディ-RoboRaid での空間サウンドの使用
description: 空間サウンドは、Microsoft HoloLens の最も魅力的な機能の1つであり、オブジェクトが見えなくなったときに、ユーザーがどのような処理を行っているかをユーザーが認識できるようにします。
author: mattzmsft
ms.author: hakons
ms.date: 03/21/2018
ms.topic: article
keywords: Windows Mixed Reality、HoloLens、RoboRaid、空間サウンド、mixed reality ヘッドセット、windows mixed reality ヘッドセット、virtual reality ヘッドセット、HoloLens、MRTK、Mixed Reality Toolkit、cpu
ms.openlocfilehash: 95650ea7097f16d257c80c11443b84936bece435
ms.sourcegitcommit: d340303cda71c31e6c3320231473d623c0930d33
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/01/2021
ms.locfileid: "97847542"
---
# <a name="case-study---using-spatial-sound-in-roboraid"></a>ケーススタディ-RoboRaid での空間サウンドの使用

この記事では、 [RoboRaid](https://www.microsoft.com/p/roboraid/9nblggh5fv3j) mixed reality first person shooter のオーディオを作成する際に Microsoft HoloLens エクスペリエンスチームが直面した課題について説明します。

## <a name="the-tech"></a>技術

[空間サウンド](spatial-sound.md) は Microsoft HoloLens の最も魅力的な機能の1つであり、オブジェクトが見えなくなったときに、どのようなことが起こっているかをユーザーが認識できるようにします。

RoboRaid では、空間サウンドの最も明白で効果的な使用方法として、周辺のビジョンの外部で発生していることをプレーヤーに警告します。 たとえば、部屋でスキャンされた任意の壁面から入力できます。 入力した場所に接続していない場合は、それを見逃してしまう可能性があります。 この侵害についての警告を受け取るために、次のような音声が登場しています。これにより、簡単に処理を停止する必要があることを知ることができます。

## <a name="behind-the-scenes"></a>バックグラウンド処理

HoloLens アプリ用の空間サウンドを作成することは、これまでになく、参照する過去のプロジェクトがないため、問題を解決するのが困難な場合があります。 RoboRaid を作成するときに発生するオーディオの課題の例は、自分のアプリ用にオーディオを作成する際に役立ちます。

### <a name="be-mindful-of-taxing-the-cpu"></a>CPU の消費に注意してください

空間サウンドが CPU で要求している可能性があります。 RoboRaid のようなビジー状態では、特定の時点で空間サウンドインスタンスの数を8未満に保つことが重要でした。 通常は、さまざまなオーディオイベントに対してインスタンスの制限を設定するのと同じように簡単でした。 制限に達した後に発生したすべてのインスタンスは強制終了されます。 たとえば、ドローンを起動すると、その screams は特定の時点の3つのインスタンスに制限されます。 約4つのドローンを一度に発生させることができます。このような音声イベントの多くは、脳で追跡することができないため、3つの screams は十分です。 これにより、敵爆発や敵の撮影準備など、他の空間サウンドイベントのリソースが解放されます。

### <a name="rewarding-a-successful-dodge"></a>覆い焼きを成功させる

Dodging 整備士は、RoboRaid で最も重要なゲームプレイ機構の1つであり、また、HoloLens エクスペリエンスにとっては本当に固有のものです。 このように、dodges を成功させるには、windows media player を使用する必要がありました。 開発の早い段階では、"whizz by" が非常に優れています。 最初の計画では、ループを使用し、ボリューム、ピッチ、フィルターを使用してリアルタイムで操作しました。 この実装は非常に複雑になりました。 これを構築するためにリソースをコミットする前に、アセットを使用して低負荷のプロトタイプを作成しました。これは、その動作を確認するためだけに組み込まれています。 非常に優れた開発0.7 者は、このようにしています。このようにすると、この2秒間に完了したことがプレーヤーの耳によって渡され、結果が驚くようになります。 言うまでもありませんが、より複雑なソリューションを刷新、プロトタイプを実装しています。

*(ドップラー効果が組み込まれたオーディオ資産を作成する方法の詳細については、「 [100 Whooshes in 2 Minutes](http://designingsound.org/2010/02/26/charles-deenen-special-100-whooshes-in-2-minutes/)」を参照してください)。* 
<br>
![敵の dodging タイルが正常に表示されると、プレーヤーはゲームに満足しています。](images/successful-dodge-roboraid-500px.jpg)

### <a name="ditching-ineffective-sounds"></a>決別効果のないサウンド

最初は、敵の dodged タイルが正常に再生された後に、プレーヤーの爆発音を再生することにしましたが、いくつかの理由でこれを溝することにしました。 まず、SFX に使用したのと同じように感じていませんでした。 その後、ユーザーが壁の後ろに壁を置いたときに、そのサウンドをマスクする他のことがゲームで発生したとします。 2番目の方法として、フロアで競合が発生していません。そのため、このようにして、窓が壁ではなくフロアに達したときに、爆発する爆発を実現できませんでした。 最後に、空間サウンドの CPU コストが発生しました。 エリートスコーピオンの敵 (壁内でのクロールによって) は、8つの projectiles を受ける特別な攻撃を受けています。 このような組み合わせで大きな混乱が発生しただけでなく、CPU の消費が困難になったため、非常に屋内にもなりました。

### <a name="communicating-a-hit"></a>ヒットの通知

HoloLens で発生した興味深い問題は、プレーヤーがヒットしたことを効果的に伝えることがいかに難しいかということでした。 Mixed reality エクスペリエンスを成功させるには、ストーリーが発生していると感じます。 つまり、自分の生きた部屋で宇宙人ロボットの侵入を受けていると信じなければなりません。

選手は、ヒットしたときには何も感じません。そのため、問題が発生したことをプレーヤーに納得させる方法を見つける必要がありました。 従来のゲームでは、文字がヒットしたことを知らせるアニメーションが表示されたり、画面が赤で点滅したり、文字が少し grunt したりする可能性があります。 これらの種類のキューは、mixed reality エクスペリエンスでは機能しないため、ビジュアルキューと、破損が発生したことを示す誇張されたサウンドを組み合わせることにしました。 大きなサウンドを作成しました。このようにして、すべてをまとめたミックスで目立つようにしました。 さらに、さらに多くのことを実現するために、核となる部分がシンクだったかのような短い警告音を追加しました。 
<br>
![プレーヤーが RoboRaid でヒットしたときに、視覚的な合図が表示されますが、破損していることを示す、誇張されたオーディオキューを取得することもできます。](images/player-hit-roboraid-500px.jpg)

### <a name="getting-big-sound-from-small-speakers"></a>小さいスピーカーからの大きな音の取得

HoloLens スピーカーは、デバイスのニーズに合わせて小さく、光をすることができないので、あまりに多くのことを知りません。 スマートフォンまたはハンドヘルドゲームデバイス向けの開発と同様に、サウンドデザイナーや作曲者は、オーディオの頻度のコンテンツに注意する必要があります。 常にサウンドをデザインするか、完全な周波数で音楽を書き込むことができます。これは、ユーザーのためのオプションであるためです。 ただし、HoloLens スピーカーとの互換性を確保するために、使用する必要がある DAW のマスターに EQ を配置することで、ときどきテストを実行します。 EQ 設定は、600 Hz から 700 Hz までの高パスフィルターと、約 10,000 (急旋回) での低パスフィルターで構成されます。 これにより、サウンドがデバイスでどのように再生されるかについてのおおよそのアイデアが得られます。

低音に依存してコード変更の意味を与える場合、この EQ 設定を適用すると、音楽がルートの意味を完全に失うことがあります。 これを解決するには、1オクターブ以上 (豊富な高周波を使用) の低音に別のレイヤーを追加し、それを組み合わせてルートバックの意味を理解しました。 場合によっては、ディストーションを使用して高周波を分割することで、上限の範囲内に十分な頻度のコンテンツが提供され、その下に何かがあることをブレインで考えることができます。 これは、上司のスーパー攻撃など、特殊な時間の影響、爆発、サウンドなどの SFX に当てはまります。 このような場合、低いエンドツーエンドでは、プレーヤーが影響や重み付けを把握することはできません。 音楽の場合と同様に、高速処理を使用して何らかの間違いなく役に立っています。

### <a name="making-your-audio-cues-stand-out"></a>オーディオキューを目立たせる

当然ながら、チームの全員が bombastic 音楽、大きな機関銃、爆発した爆発を望んでいました。しかし、voiceover またはその他のゲームに不可欠なオーディオキューについても聞くことを望んでいました。

さまざまな周波数を持つコンソールゲームでは、サウンドの重要度に応じて、周波数を分割するオプションが増えています。 RoboRaid の場合、私はサウンドからの曲線の範囲の数が制限されていました。 低パスフィルターと曲線を使用する場合、スペクトルの上限を超えていても、それほど小さくないため、サウンドには何も残っていません。

RoboRaid サウンドをデバイス上で可能な限り大きくするには、さまざまな種類のサウンドの重要度の明確な階層を作成することによって、全体的なエクスペリエンスの動的な範囲を小さくし、ducking を広範に使用する必要がありました。 重要度に応じて、ducking dB から-6 dB に設定します。 私は、ゲームの ducking をはっきりとしていないので、フェードイン/アウトタイミングとボリュームの減衰量の調整に多くの時間を費やしました。 音楽用のリバーブを使用せずに、空間サウンド、非空間サウンド、VO、ドライバス用に個別のバスを設定します。 次に、高優先度、重大、および重要ではないバスを作成して、適切なバスにアクセスするように資産を設定しました。

私が RoboRaid で作業していたので、オーディオの専門家が自分のアプリに対して楽しく、魅力を持っています。 Microsoft の外部にある有能な人たちが HoloLens を使用することはできません。

## <a name="do-it-yourself"></a>自分で実行する

部屋がいっぱいになっているように、特定のイベント (爆発など) の "大規模な" サウンドを作成するために発見したトリックは、空間サウンド用の mono 資産を作成し、2D ステレオアセットとミックスして3D で再生することでした。 ステレオコンテンツに含まれる情報が多すぎると、mono 資産の方向が低下するため、調整が必要になります。 ただし、バランスを取ると、大きな音が発生し、プレーヤーが適切な方向に表示されるようになります。

次のオーディオアセットを使用して、自分で大きな音を試すことができます。

**シナリオ 1**
1. [Roboraid_enemy_explo_mono .wav](images/roboraid-enemy-explo-mono.wav)をダウンロードし、空間サウンドを再生してイベントに割り当てるように設定します。
2. [Roboraid_enemy_explo_stereo .wav](images/roboraid-enemy-explo-stereo.wav)をダウンロードし、2d ステレオで再生して、上記と同じイベントに割り当てられるように設定します。 これらのアセットは Unity に正規化されるため、両方のアセットのボリュームを減衰させて、クリップしないようにします。
3. 両方のサウンドを同時に再生します。 どのように動作するかを気にするために、頭を動かしてください。

**シナリオ 2**
1. [Roboraid_enemy_explo_summed .wav](images/roboraid-enemy-explo-summed.wav)をダウンロードし、空間サウンドを再生してイベントに割り当てるように設定します。
2. この資産を単独で再生し、シナリオ1のイベントと比較します。
3. Mono ファイルとステレオファイルのバランスを調整してください。

## <a name="see-also"></a>関連項目

* [立体音響](spatial-sound.md)
* [Microsoft HoloLens 用 RoboRaid](https://www.microsoft.com/p/roboraid/9nblggh5fv3j)
