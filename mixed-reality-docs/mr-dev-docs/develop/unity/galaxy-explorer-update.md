---
title: HoloLens 2 用 Galaxy エクスプローラーの作成
description: HoloLens 2 の Galaxy エクスプローラーの更新方法について説明します。 元の Galaxy エクスプローラーと同じように、microsoft のチームは、コミュニティにフルアクセスが確実に与えられるように、GitHub でプロジェクトをソーシングとしています。
author: l-garrett
ms.author: grbury
ms.date: 06/30/2019
ms.topic: article
keywords: galaxy エクスプローラー, ケーススタディ, プロジェクト, サンプル, MRTK, Mixed Reality Toolkit, Unity, サンプルアプリ, サンプルアプリ, オープンソース, Microsoft Store, HoloLens, mixed reality ヘッドセット, windows Mixed reality ヘッドセット, 仮想現実のヘッドセット
ms.openlocfilehash: 00bf30224a820bd85394c4b97136f81b52fe4128
ms.sourcegitcommit: dd13a32a5bb90bd53eeeea8214cd5384d7b9ef76
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/17/2020
ms.locfileid: "94677631"
---
# <a name="the-making-of-galaxy-explorer-for-hololens-2"></a>HoloLens 2 用 Galaxy エクスプローラーの作成

HoloLens 2 の Galaxy エクスプローラーの更新方法について説明します。 [Galaxy エクスプローラー](https://docs.microsoft.com/windows/mixed-reality/galaxy-explorer "Galaxy Explorer") は、当初、アイデアプログラムを共有することによって HoloLens 用のオープンソースアプリケーションとして開発されており、多くの人が経験した最初の mixed reality の1つです。 ここでは、 [HoloLens 2 の新機能と魅力的な機能](https://www.microsoft.com/hololens/hardware)を更新します。

[Microsoft Mixed Reality スタジオ](galaxy-explorer-update.md#mixed-reality-studios)の1つとして、通常、商用レベルのソリューションを開発し、クリエイティブおよび開発プロセスを通じて対象プラットフォームで & テストを開発しています。 私たちは、まだ HoloLens 2 デバイスにアクセスできないが、Galaxy エクスプローラーの更新プログラムを開始したいという、固有の状況になっています。 私たちは、フレームワークとツール ( [Mrtk v2](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/GettingStartedWithTheMRTK.html)など) を使用してこのプロジェクトを着手しています。これは、microsoft とコミュニティで利用できるようになったためです。

元の Galaxy エクスプローラーと同じように、 [microsoft のチーム](galaxy-explorer-update.md#meet-the-team) は、コミュニティにフルアクセスが確実に与えられるように、 [GitHub でプロジェクトをソーシング](https://github.com/Microsoft/GalaxyExplorer) としています。 ここでは、MRTK v1 から MRTK v2 への行い移植方法、HoloLens 2 で利用できる新機能に基づいてエクスペリエンスがどのように強化されたか、さらに Galaxy エクスプローラーがマルチプラットフォームエクスペリエンスを維持することを保証した方法について、この記事でも詳しく説明します。 これにより、HoloLens (第1世代)、HoloLens 2、Windows Mixed Reality ヘッドセット、または Windows 10 デスクトップ上で Galaxy エクスプローラーを表示している場合でも、イマーシブエクスペリエンスを使用していることを確認し、その過程を十分に体験したいと考えています。

このページは、プロジェクトの進行に合わせて拡張され、さらに詳細な記事、コード、デザイン artefacts、追加の MRTK v2 ドキュメントなどにリンクします。これにより、insider がプロジェクトを確認できるようになります。

## <a name="unveiling-the-new-logo"></a>新しいロゴを予期する

新しい Galaxy エクスプローラーロゴのプレビューを開始することをお待ちしております。 天の川の方法によって元のロゴに homage を支払っていますが、現実的な視覚エフェクトを設計し、洗練された最新の感覚を提供するようにタイポグラフィを更新しました。 ロゴには、新しいアイコンの1つが表示されます。

![新しい Galaxy エクスプローラーのロゴ](images/ge-update-app-icon.png)

ロゴのデザインやタイポグラフィにより、UI 要素の全体的な外観の雰囲気がエクスペリエンス全体に設定されます。 

## <a name="thinking-about-interactions"></a>相互作用について検討する

Creative studio として、Galaxy エクスプローラーを HoloLens 2 に移植する特権については、「ecstatic」でした。 最初から、新しいデバイスの使用経験があることを知りました。また、Mixed Reality の利用可能性は、その想像に限定されています。

HoloLens 2 を使用すると、ユーザーは、自然なオブジェクトと同様に反応するような方法で、ホログラムのタッチ、つかみ、移動を行うことができます。 完全にトレーラーされたモデルは、ユーザーが自然な感覚を持つことができるため、すばらしいものです。 たとえば、すべての人がカップを少しずつ選択しているのではなく、1つの特定の方法を適用するのではなく、HoloLens 2 でこれを行うことができます。

>[!VIDEO https://www.youtube.com/embed/wogJv5v9x-s]

これは、初めての HoloLens デバイスでのエアタップベースのインターフェイスからの大きな変更点です。 離れた場所からホログラムを操作するのではなく、ユーザーは "クローズと個人用" を取得できるようになりました。 既存のエクスペリエンスを HoloLens 2 に移植する場合、または新しいエクスペリエンスを計画する場合は、ホログラムの直接操作について理解しておくことが重要です。

### <a name="direct-manipulation-vs-the-vast-distances-in-space"></a>直接操作とスペースの広い距離

この機能は、世界中で手に入れることができる、魔法のないエクスペリエンスです。 このアプローチの課題は、太陽システムのサイズです。 ユーザーは、それぞれの地球に近くにアクセスして操作できるようにするために、部屋をあちこちに進める必要があります。

離れた場所にあるオブジェクトをユーザーが操作できるようにするために、MRTK では、ユーザーのパームの中心から手を付けてハンド光線を提供し、手の延長として機能します。 ドーナツ形のカーソルは、射線の終点にアタッチされ、射線がターゲットオブジェクトと交差する場所を示します。 カーソルが届いているオブジェクトは、手から出されるジェスチャ コマンドを受け取ることができます。 

>[!VIDEO https://www.youtube.com/embed/Qol5OFNfN14]

Galaxy エクスプローラーの元のバージョンでは、ユーザーは、宝石カーソルを使用して地球をターゲットにしてから、エアタップを使って近くに電話をかけます。 この動作を HoloLens 2 に移植する最も簡単な方法は、この動作を実行して、光線を使用して惑星を選択することです。 これは機能していましたが、それ以上のことを希望しています。

### <a name="back-to-the-drawing-board"></a>描画ボードに戻る

私たちは、既存の相互作用に基づいて構築できることを考案しました。 考え方は次のようになりました。 HoloLens 2 では、ユーザーは自然な現実的な方法でホログラムを操作できますが、ホログラムは定義上は実際のものではありません。 そのため、ユーザーにとっては対話が妥当である限り、実際のオブジェクトを使用して対話できるかどうかは問題ではありません。これを可能にすることができます。

調査した概念の1つは、telekinesis を使用してオブジェクトを操作する機能です。 多くの場合、スーパーヒーローの映画では、人が気を付けて、オープンハンドでオブジェクトを呼び出すことになります。 私たちはこれまでのアイデアを使って、概念のしくみを簡単に説明してきました。

![Force grab の相互作用の概念](images/ge-update-interactions-concept-force-grab.png)

ユーザーは、ターゲットのフィードバックを提供する地球に手を付けることができます。 その後、ユーザーは自分の手を広げると、地球がいっぱいになるまで魔法の力でユーザーにプルされます。 このため、相互作用の名前が使用されます。 ユーザーがオープンハンドで地球を離すと、その軌道に再び戻ります。

### <a name="force-grab-prototyping"></a>グラブのプロトタイプを強制する

次に、複数のプロトタイプを作成して概念をテストします。相互作用のしくみはどのようなものでしょうか。 呼び出されたオブジェクトがユーザーの前に停止したか、または配置されるまでハンドを守る必要があるか。 呼び出されるときに、呼び出されたオブジェクトのサイズまたは小数点以下桁数が変化するかどうか。

<!--
Here is Amit Rojtblat (Technical Artist) presenting one of the prototypes to Yasushi Zonno (Creative Lead).

------------------------------------------------------------------

__*--- VIDEO OF AMIT PLAYING AND EXPLAINING THE PROTOTYPE ---*__

__*--- NEEDS TO BE UPLOADED (TO YOUTUBE?) AND LINKED ---*__

------------------------------------------------------------------
-->

### <a name="implementing-force-grab-into-the-application"></a>アプリケーションへの強制グラブの実装

惑星で力を獲得しようとしたときに、太陽のシステムのスケールを変更する必要があることに気付きました。 これにより、太陽システムの正確で中規模の表現は、ユーザーが理解しやすく、移動することが困難になりました。 しかし、サイズの小さい表現では、非常に小さな表現を簡単に選択できませんでした。 その結果、惑星のサイズと、太陽オブジェクト間の間隔は、相対的な精度を維持しながら中規模の部屋で快適に感じられるように設計されています。

開発スプリントの後の段階では、私たちは社内の複数のエキスパートを混在させることができるようになりました。そのため、自分の入力を専門家の担当者として取得し、強制グラブの相互作用について簡単にイテレーションを行う必要がありました。

![Galaxy エクスプローラーのプレビュービルドをテストするためのジェニー Kam](images/ge-update-user-testing.png)

画像: ジェニー Kam、上級設計リード、Galaxy エクスプローラーの進行中の作業のテスト。

### <a name="adding-affordances-for-targeting"></a>ターゲット設定のための affordances の追加

HoloLens 2 で実験しているように、新しい相互作用は自然で直観的ですが、ホログラムは同じではありません。重みも tactile sensations もありません。 ホログラムは、オブジェクトと対話するときに人間が受け取るために使用するという自然なフィードバックを提供しないため、作成する必要があります。

私たちは、ユーザーが対話のさまざまな段階に対して提供するビジュアルおよび音声フィードバックについて考えていました。また、強制グラブ機構は Galaxy エクスプローラーと対話するための中心的な機能であるため、多くの反復が行われました。 目標は、相互作用の各ステージについて、オーディオとビジュアルフィードバックの適切なバランスを見つけることでした。目的のオブジェクトを中心にして、ユーザーに呼び出し、その後、そのオブジェクトを解放します。 私たちが学んだことは、HoloLens (第1世代) に対して使用したのとは異なり、相互作用を補強するために、より多くのオーディオとビジュアルフィードバックが必要であるということです。

![惑星での Visual affordances](images/ge-update-planet-affordances.png)

### <a name="adding-affordances-for-force-grab"></a>強制グラブの affordances を追加しています
 
オーディオと visual affordances で基本的な force グラブメカニズムを作成したら、選択した惑星をよりわかりやすくする方法を検討しました。 主な対処方法は2つありました。太陽システムが3D 移動インターフェイスであるため、ユーザーがオブジェクトを一貫して対象にする方法を習得するための複雑さが増加しています。 これは、オブジェクトを選択したときに手の光が非常に高速であるという事実によって、非常に高速になりました。

ここでは、3つのソリューションについて説明します。 1つ目は非常に直感的で、惑星がより自然なペースでアプローチできるように、選択プロセスの速度が低下しています。 速度が調整されたら、オーディオと visual affordances にもう一度問い合わせて、ユーザーに対して追跡されている地球と同様にオーディオフィードバックを追加する必要がありました。

ソリューションの2番目の部分は、強制グラブ相互作用全体の視覚化を非常に明確にすることでした。 この例では、ハンドレイが接続された後、対象のオブジェクトに向かって移動し、オブジェクトをユーザーに返すようにします。 

![Force affordances のビジュアル "なげなわ"](images/ge-update-lasso-affordances.png)

最後に、太陽システムのスケールを最適化して、ユーザーの宝石とハンドレイが対象とするのに十分な大きさにすることができるようにしました。 

これら3つの機能強化により、ユーザーはわかりやすい方法で惑星を呼び出すことができるようになりました。 全体として、最終的な強制グラブの効果は、太陽システムのよりイマーシブで対話型のエクスペリエンスになります。

## <a name="spotlight-on-jupiter"></a>木星のスポットライト

天の川方式の太陽の本体を作成するのは、humbling experience でした。 特に、木星の固有の特性により、見よが見やすくなります。 これは、ガスの巨人族の中でも最も大きなカラフルで、他のすべての惑星を組み合わせたものよりも多くの質量を含んでいます。 乱気流と cloud dynamics の膨大なサイズと prefect のバンドは、特別なアートに注目するためのものです。

### <a name="geometry-and-meshes"></a>ジオメトリとメッシュ

ガスジャイアントとして、木星の外側のシェルは、1つのガソリンレイヤーで構成されています。 高速回転速度、内側の熱交換、Coriolis の組み合わせにより、swirling cloud ベルトと vortices に形成されるカラフルなレイヤーとストリームが作成されます。 この複雑な美しさをキャプチャすることは、太陽システムを作成するための鍵でした。

これはすぐに明らかになったので、事前計算済みストリームでの流体シミュレーションやアニメーションテクスチャなどの手法を視覚化することは問題になりました。 このことをシミュレートするために必要なコンピューティング能力は、他のすべての処理と同時に実行すると、パフォーマンスに大きな影響を及ぼしていました。 

![Jupiter オブジェクトの概要](images/ge-update-jupiter-shells-complete.jpg)

次のアプローチは、"スモークアンドミラー" ソリューションであり、透明なテクスチャレイヤーのオーバーレイで構成されています。それぞれが、回転するメッシュのコンポジションでコンパイルされた、大気移動の特定の側面に対応しています。

次の図では、左側に内側のシェルが表示されています。 このレベルでは、クラウドを構成する複数のレイヤー間の小さなギャップを防ぐために、コンポジションの背景が提供されています。 レイヤーの低速な回転により、レイヤー全体での visual unity の構築に役立つ、高速な移動バンド間のビジュアルバッファーとしても提供されます。

このアンカーをモデルに設定した後、移動するクラウドレイヤーは、次に示す中段と右のメッシュに投影されます。

![シェルが分離された Jupiter オブジェクトの概要](images/ge-update-jupiter-shells-separated.jpg)

### <a name="texturing"></a>テクスチャ

既存のテクスチャは、3つの部分で構成されるテクスチャアトラスに分割されています。3番目の点では、motionless 層の雲が視差をホストし、中央のセクションには高速な移動外部ストリームが含まれ、3番目の部分には低速回転の内部基本レイヤーが含まれています。

また、大きな赤のスポットは、さまざまな可動部品に分けられ、テクスチャの他の非表示領域に挿入されました。 これらのコンポーネントは、次の図の中央のセクションで toned speckles として表示されます。

各バンドには特定の方向と速度があるため、テクスチャは各メッシュに個別に適用されていました。 その後、メッシュには、画面全体を concentrically にアニメーション化できる共通の中心とピボットポイントがありました。

![木星テクスチャの概要](images/ge-update-jupiter-planet-cloud-texture.png)

### <a name="rotation-and-texture-behavior"></a>回転とテクスチャの動作

これで、木星のビジュアル構成が設定されたので、回転と軌道の速度が適切に計算され、それに応じて適用されるようにする必要がありました。 木星が完全なローテーションを完了するには、約9時間かかります。 これは、差分ローテーションによる定義の問題です。 したがって、赤道ストリームは ' マスターストリーム ' として設定されており、完全なローテーションのために3600フレームが使用されています。 その他のすべてのレイヤーでは、初期位置を一致させるために3600の係数として回転速度を確保する必要がありました。たとえば、600、900、1200、1800などです。

![木星シェルテクスチャ](images/ge-update-shell-texture.jpg)


### <a name="the-great-red-spot"></a>すばらしい赤色のスポット

ストリームを個別に回転させることで、視覚的に優れた印象を与えましたが、近い範囲で観察された場合には詳細が不足していました。

最も目を引く部分は、木星のすばらしい Red スポットで、これを紹介するために特別にメッシュとテクスチャのセットを作成しました。
 
ここでは、木星のバンドと同様のメカニズムを使用しました。回転する部品のセットは相互に構成されていますが、"マスターレイヤー" の下にグループ化されているので、残りの速度に関係なく、それらの要素の位置を維持することができます。

メッシュが設定され、配置されると、なごやか渦の異なるレイヤーが適用され、各ディスクが個別にアニメーション化されます。その後、中心の破片は最も高速に動き、残りは徐々に動きが遅くなります。

![木星素晴らしい Red スポットメッシュ](images/ge-update-great-red-spot-mesh.jpg)

また、合成には、他のすべてのメッシュと同じピボットもあります。また、元の y 軸 (!) からの傾きを維持して、回転を自由にアニメーション化することもできます。 3600フレームは基本速度であり、各レイヤーには回転の期間としてこのような要因があります。

![木星 Red スポットテクスチャ](images/ge-update-red-spot-mesh-texture.jpg)

### <a name="getting-it-right-in-unity"></a>Unity での権限の取得

Unity でこれを実装する際には、注意すべき重要な点がいくつかあります。

Unity は、透明なレイヤーの大規模なセットを処理するときに簡単に混同されます。 このソリューションでは、各メッシュのテクスチャマテリアルを複製し、内側から5ずつ外側のに、各マテリアルに徐々に昇順のレンダーキューの値を適用しました。

内部シェルのレンダーキューの値が 3000 (既定値) であるのに対し、静的な赤 toned の外側の値は3005で、高速の白い外部クラウドは3010を持ちました。 赤いスポット (内部から外側のレイヤーへの進行) は、このモデルでは3025の値で終了しました。

![木星 final オブジェクト](images/ge-update-jupiter-final.jpg)

### <a name="final-touches"></a>最終的な調整

最初にテクスチャを作成しましたが、実装には不十分であることがわかっていました。

元の地球標準シェーダー (およびそのすべてのバリエーション) は、MRTK 標準シェーダーではサポートされていない Sunライトレシーバーのスクリプトを通じて、照明情報を受け取ります。

地球の標準シェーダーでは ohp シートによるテクスチャマップがサポートされていないため、シェーダーを交換するだけでは解決できませんでした。 このシェーダーは、木星ビルドが意図したとおりに動作するように編集されています。

最後に、ソース Blend を10に設定し、ターゲット Blend を5に設定して、アルファブレンドを設定する必要があります。

![木星 Unity のプロパティ](images/ge-update-jupiter-unity-render-queue.jpg)

Galaxy エクスプローラーで、木星の最終的なレンダリングを確認できます。

## <a name="meet-the-team"></a>チーム紹介 

Mixed Reality studio チームは、デザイナー、3D アーティスト、UX スペシャリスト、開発者、プログラムマネージャー、および studio head で構成されています。 私たちは、ベルギー、カナダ、ドイツ、イスラエル、日本、英国、および米国という世界中のすべてのものからのものです。 私たちは、ゲーム (従来のゲームと、わたる小規模な、デジタルマーケティング、医療、およびサイエンス) のさまざまな背景から生まれたチームです。

HoloLens 2 用の Galaxy エクスプローラーを作成し、HoloLens (第1世代)、VR、およびデスクトップの各バージョンを更新することをお楽しみください。 

![Galaxy エクスプローラーチーム](images/ge-update-team-image.png)

左から右へ: Artemis Tsouflidou (Developer)、Angie Teickner (ビジュアルデザイナー)、David Janer (UX デザイナー)、山久 Garrett (Delivery & Production 潜在顧客)、Yasent i ゾーン番号 (Creative Lead)、(developer)、および Ben 書籍 (Sr-iov)。
左下から右へ: Amit Rojtblat (技術アーティスト)、Martin Wettig (3D アーティスト)、および Dirk Songuer (Studio Head)。
非おすすめ: Tim Gerken (Tech Lead) と Oscar Salandin (ビジュアルデザイナー)。

## <a name="additional-information"></a>関連情報

### <a name="mixed-reality-studios"></a>Mixed Reality スタジオ

米国、ヨーロッパ、および Asia-Pacific にある Microsoft Mixed Reality Studio チームは、ユーザーエクスペリエンス設計、holographic computing、AR/VR テクノロジ、3D 開発の専門家です。3D アセットの作成、DirectX、Unity、Unreal など。 お客様が組織全体に大きな影響を与えることを可能にすると同時に、必要なフューチャの計画、設計、構築、および提供を支援します。 スタジオは、エンタープライズアプリケーションの統合、導入、運用、およびサポートのために、22000を超える Microsoft サービスプロフェッショナルと密接に連携しています。
