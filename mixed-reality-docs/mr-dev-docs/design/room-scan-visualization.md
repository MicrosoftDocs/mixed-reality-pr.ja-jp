---
title: 部屋のスキャンの可視化
description: 空間マッピングを必要とするアプリケーションでは、デバイスを使用して、時間とセッションをまたいでデータを収集します。
author: mattzmsft
ms.author: alexpf
ms.date: 03/21/2018
ms.topic: article
keywords: Windows Mixed Reality, アプリパターン, 設計, HoloLens, ルームスキャン, 空間マッピング, メッシュ, mixed reality ヘッドセット, windows mixed reality ヘッドセット, 仮想現実ヘッドセット, HoloLens
ms.openlocfilehash: f4ec072c8fde8d3e7e390bd837116a8262bac38b
ms.sourcegitcommit: d340303cda71c31e6c3320231473d623c0930d33
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/01/2021
ms.locfileid: "97848251"
---
# <a name="room-scan-visualization"></a>部屋のスキャンの可視化

空間マッピングを必要とするアプリケーションは、時間の経過と共にデータを収集するためにデバイスに依存します。 マッピングデータの完全性と品質は、ユーザーが実行した探索の量、探索から経過した時間、家具やドアなどのオブジェクトが領域をスキャンした後に移動されたかどうかなど、さまざまな要因によって異なります。

便利な空間マッピングデータを確保するために、アプリケーション開発者にはいくつかのオプションがあります。
* 既に収集されている可能性があるものに依存します。 このデータは、最初は不完全である可能性があります。
* ブルームジェスチャを使用して Windows Mixed Reality ホームにアクセスし、エクスペリエンスに使用する領域を調べるようにユーザーに依頼します。 これらのユーザーは、すべての必要な領域がデバイスに認識されていることを、エアタップを使用して確認できます。
* 独自のアプリケーションでカスタム探索エクスペリエンスを構築します。

このような場合は、探索中に収集された実際のデータがシステムによって格納され、アプリケーションはこれを行う必要はありません。

## <a name="device-support"></a>デバイス サポート

<table>
    <colgroup>
    <col width="33%" />
    <col width="33%" />
    <col width="33%" />
    </colgroup>
    <tr>
        <td><strong>機能</strong></td>
        <td><a href="../hololens-hardware-details.md"><strong>HoloLens</strong></a></td>
        <td><a href="../discover/immersive-headset-hardware-details.md"><strong>イマーシブ ヘッドセット</strong></a></td>
    </tr>
     <tr>
        <td>部屋のスキャンの可視化</td>
        <td>✔️</td>
        <td>❌</td>
    </tr>
</table>



## <a name="building-a-custom-scanning-experience"></a>カスタムスキャンエクスペリエンスの構築

アプリケーションでは、エクスペリエンスの開始時に空間マッピングデータを分析して、ユーザーが完全性と品質を向上させるために追加の手順を実行する必要があるかどうかを判断できます。 分析によって品質を向上させる必要がある場合は、開発者が視覚エフェクトを使用して、次のことを示す必要があります。
* ユーザーの近くにあるユーザーの合計ボリュームのうち、エクスペリエンスの一部として必要な量
* データを改善するためにユーザーが行う必要がある場所

"良い" スキャンが行われていることをユーザーが認識していません。 スキャンを評価するよう求められた場合は、それらを表示または指定する必要があります。これは、実際の壁面からの距離など、スキャンを評価するように求められます。 開発者は、スキャンまたは探索フェーズでの空間マッピングデータの更新を含むフィードバックループを実装する必要があります。

多くの場合、必要なスキャン品質を得るために必要な操作をユーザーに伝えることをお勧めします。 たとえば、天井を見たり、家具を見たりします。

## <a name="cached-versus-continuous-spatial-mapping"></a>キャッシュと連続空間マッピング

空間マッピングデータは、アプリケーションが使用できる最も負荷の高いデータソースです。 フレームの破棄や途切れなどのパフォーマンスの問題を回避するには、このデータの消費を慎重に行う必要があります。

エクスペリエンス中のアクティブなスキャンは、利点と悪影響を及ぼす可能性があるので、エクスペリエンスに基づいてどの方法を使用するかを決定する必要があります。

### <a name="cached-spatial-mapping"></a>キャッシュされた空間マッピング

キャッシュされた空間マッピングデータがある場合、アプリケーションは通常、空間マッピングデータのスナップショットを取得し、エクスペリエンス中にこのスナップショットを使用します。

**特典**
* エクスペリエンスの実行中にシステムのオーバーヘッドを削減し、電力、温度、および cpu のパフォーマンスを大幅に向上させます。
* 空間データ内の変更によって中断されないため、メインエクスペリエンスをより簡単に実装できます。
* 物理、グラフィックス、およびその他の目的で空間データの後処理を行う1回限りのコスト。

**デメリット**
* 実際のオブジェクトまたはオブジェクトの移動は、キャッシュされたデータに反映されません。 たとえば、アプリケーションでは、現在閉じられているドアを開いているとします。
* キャッシュされたバージョンのデータを維持するために、アプリケーションメモリが増える可能性があります。

この方法の良いケースは、制御された環境またはテーブルトップのゲームです。

### <a name="continuous-spatial-mapping"></a>連続空間マッピング

特定のアプリケーションは、スキャンを続行して空間マッピングデータを更新することがあります。

**特典**
* アプリケーションでは、個別にスキャンや探索を行う必要はありません。
* 実際のオブジェクトの動きはゲームによって反映されますが、少し時間がかかることがあります。

**デメリット**
* メインエクスペリエンスの実装がより複雑になります。
* これらのシステムで変更を段階的に取り込まれたする必要があるため、グラフィックと物理処理のオーバーヘッドが発生する可能性があります。
* 高い電力、温度、CPU の影響。

このメソッドの優れたケースは、ホログラムがオブジェクトの移動と対話することが予想される場合です。たとえば、holographic 車は、開いているか閉じられているかに応じて、床の上にあるドライブがドアに入るようにすることができます。

## <a name="see-also"></a>関連項目

* [空間マッピング](spatial-mapping.md)
* [座標系](coordinate-systems.md)
* [立体音響の設計](spatial-sound-design.md)
